<!DOCTYPE html>
<html>
<head>
	<link rel="stylesheet" th:href="@{css/style1.css}" type="text/css">
	<meta charset="UTF-8">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
	<title> Giao Diện Thay Đổi Mật Khẩu </title>
	<link rel="icon" th:href="@{img/other/icon.png}" type="image/png">

</head>

<body>
<a href="index"><img class="logoImg" th:src="@{/img/other/logo.png}" style="width:325px;height:70px"></a>
<h3 th:if="${message != null}" th:text="${message}" style="color: red;"></h3>

<div class="container" id="container">
	<div class="form-container sign-in-container">
		<form th:action="@{/changePassHandler}" th:object="${changePass}" method="POST" onsubmit="check_pass(event)">
			<h1 class="headerLogin">Thay đổi mật khẩu</h1>
			<input name="username" type="text" placeholder="Nhập tài khoản" required th:field="*{username}" />
			<input id="oldPassword" name="password" type="password" placeholder="Nhập mật khẩu cũ" required th:field="*{password}" >
			<input id="newPassword" name="newPassword" type="password" placeholder="Nhập mật khẩu mới" required minlength="8" maxlength="12" th:field="*{newPassword}" />
			<input id="confirm_password" type="password" placeholder="Nhập lại mật khẩu mới" required minlength="8" maxlength="12"/>
			<span id="messageMatch"> </span>
			<button id="submitChange" type="submit" name="submitChange">Thay đổi mật khẩu</button>
		</form>
	</div>
	<div class="overlay-container">
		<div class="overlay">

			<div class="overlay-panel overlay-right">
				<h1 class="changePassTitle">Lấy lại mật khẩu</h1>
				<p class="changePassIntroduction">Vui lòng nhập lại thông tin để chúng tôi có thể thực hiện việc thay đổi mật khẩu cho tài khoản của bạn</p>
			</div>
		</div>
	</div>
	
	</body>
	
</div>
<script>
		$('#newPassword, #confirm_password').on('keyup', function () 
		{
			console.log("Password value:",$('#newPassword').val() );
			console.log("Confirm value:",$('#confirm_password').val());

			if ($('#newPassword').val() == $('#confirm_password').val()) 
			{
				$('#messageMatch').html('Mật khẩu trùng khớp').css('color', 'green');
			} 
			else 
			$('#messageMatch').html('Mật khẩu không khớp').css('color', 'red');
		});
		
		function check_pass(e) {
		if (document.getElementById('password').value == document.getElementById('confirm_password').value) 
		{
        return true;
		} 
		else 
		{
		e.preventDefault();
		return false;
		}
		}
</script>

</html>